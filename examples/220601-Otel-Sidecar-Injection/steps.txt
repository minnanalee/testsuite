一、安装kind
go install sigs.k8s.io/kind@v0.14.0

vi ~/.bashrc
	export PATH=$PATH:/root/go/bin


kind create cluster

kind create cluster --name kind-2

kind get clusters

kubectl cluster-info --context kind-kind



kind delete cluster

kind load docker-image my-custom-image-0 my-custom-image-1

docker exec -it kind-control-plane crictl images

二、otel operator
https://github.com/open-telemetry/opentelemetry-operator
（一）Cert Manager
下载https://github.com/cert-manager/cert-manager/releases/download/v1.8.0/cert-manager.yaml

kubectl apply -f cert-manager.yaml

(二) operator
kubectl apply -f https://github.com/open-telemetry/opentelemetry-operator/releases/latest/download/opentelemetry-operator.yaml

特殊镜像处理
 1018  docker pull matrixdb/kubebuilder_kube-rbac-proxy:v0.11.0
 1019  docker tag matrixdb/kubebuilder_kube-rbac-proxy:v0.11.0 gcr.io/kubebuilder/kube-rbac-proxy:v0.11.0
 1020  kind load docker-image gcr.io/kubebuilder/kube-rbac-proxy:v0.11.0

pod修改
apiVersion: v1
kind: Pod
metadata:
  name: myapp
  annotations:
    sidecar.opentelemetry.io/inject: "true"
spec:
  containers:
  - name: myapp
    image: jaegertracing/vertx-create-span:operator-e2e-tests
    ports:
      - containerPort: 8080
        protocol: TCP
  - name: curl
    image: curlimages/curl:latest
    command:
      - sh
      - -c
      - sleep 1d

kubectl exec -i --tty myapp -c curl -- sh
curl myapp:8080